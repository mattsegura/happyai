# ============================================
# SUPABASE CONFIGURATION (Required)
# ============================================
# Your Supabase project URL
# Example: https://abcdefghijklmnopqrst.supabase.co
# Find this in: Supabase Dashboard > Project Settings > API
VITE_SUPABASE_URL=https://your-project.supabase.co

# Your Supabase anonymous (public) API key
# This is safe to use in client-side code
# Find this in: Supabase Dashboard > Project Settings > API > anon public
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# ============================================
# APPLICATION CONFIGURATION (Optional)
# ============================================

# Auth Configuration
# ------------------
# Safety timeout for auth state initialization (in milliseconds)
# Prevents infinite loading if auth state doesn't resolve
# Default: 10000 (10 seconds)
# VITE_AUTH_TIMEOUT=10000

# Admin Dashboard Configuration
# ------------------------------
# Maximum number of students to show in sentiment alerts
# Default: 10
# VITE_STUDENT_ALERTS_LIMIT=10

# Page size for user management pagination
# Default: 50
# VITE_ADMIN_USER_PAGE_SIZE=50

# Page size for class management pagination
# Default: 30
# VITE_ADMIN_CLASS_PAGE_SIZE=30

# Report Generation Configuration
# --------------------------------
# Rate limit for report generation (in seconds)
# Prevents spam by limiting reports to 1 per X seconds per report type
# Default: 10
# VITE_REPORT_RATE_LIMIT=10

# ============================================
# CANVAS LMS INTEGRATION (Optional)
# ============================================

# Canvas Mock Data Toggle
# ------------------------
# Set to 'false' to use real Canvas API instead of mock data
# Set to 'true' or leave unset to use mock data for development
# Default: true (mock data)
VITE_USE_CANVAS_MOCK=true

# Canvas OAuth Configuration
# ---------------------------
# These are required ONLY if using real Canvas API (VITE_USE_CANVAS_MOCK=false)

# Canvas OAuth Client ID
# Get this from: Canvas Admin > Developer Keys > Create Developer Key
# VITE_CANVAS_CLIENT_ID=your-canvas-client-id

# Canvas OAuth Client Secret (stored server-side only)
# This should be stored as a Supabase secret, NOT in .env
# Use: supabase secrets set CANVAS_CLIENT_SECRET=your-secret
# CANVAS_CLIENT_SECRET=your-canvas-client-secret

# Canvas OAuth Redirect URI
# Must match the redirect URI registered in Canvas Developer Key
# Example: https://your-app.com/academics/canvas/callback
# VITE_CANVAS_REDIRECT_URI=https://your-app.com/academics/canvas/callback

# Canvas Instance URL
# Your institution's Canvas URL (without trailing slash)
# Example: https://canvas.university.edu
# VITE_CANVAS_INSTANCE_URL=https://canvas.instructure.com

# Canvas API Configuration
# -------------------------
# Canvas API base path (usually /api/v1)
# Default: /api/v1
# VITE_CANVAS_API_PATH=/api/v1

# Canvas API request timeout (milliseconds)
# Default: 10000 (10 seconds)
# VITE_CANVAS_API_TIMEOUT=10000

# Canvas rate limit (requests per hour)
# Canvas default is 600 requests/hour per access token
# We use 10 requests/minute (600/hour) as a safe default
# Default: 600
# VITE_CANVAS_RATE_LIMIT=600

# Canvas Sync Configuration
# --------------------------
# Auto-sync interval (minutes)
# How often to automatically sync Canvas data in the background
# Set to 0 to disable auto-sync
# Default: 30 (30 minutes)
# VITE_CANVAS_SYNC_INTERVAL=30

# Canvas cache TTL (minutes)
# How long to cache Canvas API responses
# Default: 15 (15 minutes)
# VITE_CANVAS_CACHE_TTL=15

# Encryption Keys (Supabase Secrets)
# ------------------------------------
# These should be stored as Supabase secrets in production, NOT in .env files
# Generate keys with: openssl rand -base64 32

# Canvas OAuth token encryption key
# Use: supabase secrets set CANVAS_ENCRYPTION_KEY=your-key
# CANVAS_ENCRYPTION_KEY=your-encryption-key-here

# Google Calendar token encryption key
# Use: supabase secrets set GOOGLE_CALENDAR_ENCRYPTION_KEY=your-key
# GOOGLE_CALENDAR_ENCRYPTION_KEY=your-encryption-key-here

# ============================================
# GOOGLE CALENDAR INTEGRATION (Optional)
# ============================================

# Google OAuth Configuration
# ---------------------------
# Required for Google Calendar sync feature

# Google OAuth Client ID
# Get this from: Google Cloud Console > APIs & Services > Credentials
# Create OAuth 2.0 Client ID for Web application
# This is safe to expose in client code (it's the Client ID, not the secret)
VITE_GOOGLE_CLIENT_ID=your-google-client-id-here

# Google OAuth Client Secret
# ⚠️ CRITICAL SECURITY: This MUST be stored as a Supabase secret, NEVER in .env files!
# The client secret is only used in Edge Functions (server-side)
# DO NOT add VITE_ prefix - this prevents it from being exposed to client
#
# Setup command:
# supabase secrets set GOOGLE_CLIENT_SECRET=your-google-client-secret
# supabase secrets set GOOGLE_CLIENT_ID=your-google-client-id (for Edge Functions)
#
# GOOGLE_CLIENT_SECRET is NOT needed in .env - it's server-side only!

# Google OAuth Redirect URI
# Must match authorized redirect URI in Google Cloud Console
# Development: http://localhost:5173/api/auth/google/callback
# Production: https://your-app.supabase.co/functions/v1/google-calendar-oauth-callback
VITE_GOOGLE_REDIRECT_URI=http://localhost:5173/api/auth/google/callback

# Google Webhook Configuration
# ------------------------------
# Webhook verification token (generate a random string)
# Use: supabase secrets set GOOGLE_WEBHOOK_TOKEN=your-random-token
# VITE_GOOGLE_WEBHOOK_TOKEN=your-random-webhook-token

# Google Calendar Sync Configuration
# ------------------------------------
# Auto-sync interval (minutes)
# How often to automatically sync calendar data
# Default: 15 (15 minutes)
# VITE_GOOGLE_CALENDAR_SYNC_INTERVAL=15

# Google Calendar cache TTL (minutes)
# How long to cache Google Calendar API responses
# Default: 5 (5 minutes)
# VITE_GOOGLE_CALENDAR_CACHE_TTL=5

# ============================================
# APPLICATION URL (Required for OAuth callbacks)
# ============================================
# Your application's public URL
# Development: http://localhost:5173
# Production: https://your-app-domain.com
APP_URL=http://localhost:5173
